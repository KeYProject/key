

\functions {
   \nonRigid[Location] Object o1;
   \nonRigid[Location] Object o2;
   \unique Field f;
   
   LocSet dataGroup(Heap);
   
   Heap heapAtPre;
   Heap anonHeap;   
   LocSet modAtPre;
}

\problem {
    //We anonymise the modifies clause "{dataGroup}", 
    //where "o2.*" is disjoint from the data group
    
    select(heap, o2, f) = 33
    & disjoint(allFields(o2), dataGroup(heap))
    & heap = heapAtPre
    & modAtPre = dataGroup(heap)
    
    ->
    
    {heap := changeHeapAtLocs(heap, modAtPre, anonHeap)} select(heap, o2, f) 
                                                             = select(heap, o2, f)
}  