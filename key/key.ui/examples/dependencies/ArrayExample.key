\javaSource "src/";

\predicates{
  
}

\programVariables {
  int[] array;
  int i;
}


\problem {
 /*
 	 loop invariant by us:
     i>=0 & i<=array.length & (\forall int x; (x>=0 & x < i -> array[x] = 1))
     
     loop invariant by Predicate Abstraction:
     i>=0 & i<=array.length & (\forall int j; ((!(0<=j & j<i))|((0<=j & j<i)&(array[j]=1))))
  
     modifies: allFields(array)
     variant: array.length - i
  */
  array!=null & wellFormed(heap) 
   -> {i:=0} \<{ 
                  while(i<array.length){
   					array[i]=1;
   					i++;
   				} 
   			}\>(i=array.length & (\forall int x; (x>=0 & x < array.length -> array[x] = 1))) 
}